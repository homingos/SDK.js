/**
 * flamsdk v2.0.4-beta.0
 * Author: bucharitesh
 * Date: 2023-02-02
 * License: MIT
 */

const handleSend=message=>{document.getElementById("flam-sdk-iframe").contentWindow.postMessage(message,"https://dev.sdk.zingcam.tech")};function warn(message){const styles=["color: black","background: yellow"].join(";");message="[ZINGCAM SDK]: "+message,console.log("%c%s",styles,message)}function renderFrameOnReady(data){setTimeout((()=>{if(window.__SDK_READY){document.getElementById("flam-sdk-loading-wrapper").style.display="none";return document.getElementById("flam-sdk-iframe").style.display="block",void handleSend({type:"CLIENT_DATA",message:JSON.stringify(data)})}renderFrameOnReady(data)}),0)}function init(options){try{if(!options||"object"!=typeof options)throw new Error("Invalid paramerters passed");if(!options.key||"string"!=typeof options.key)throw new Error("KEY is required or missing !!");if(!options.environment||"string"!=typeof options.environment)throw new Error("ENVIRONMENT must be STAGE or PRODUCTION !!");localStorage.setItem("options",JSON.stringify(options)),window.addEventListener("message",(e=>{!function(data){switch(data.type){case"READY":handleSend({type:"INITIAL_DATA",message:localStorage.getItem("options")}),window.__SDK_READY=!0;break;case"CLOSE":document.getElementById("flam-sdk-iframe").style.display="none";break;case"SUCCESS":window.handleSuccess(data.message);break;case"FAIL":window.handleFailure(data.message);break;default:console.log(data)}}(e.data)}),!1),(()=>{const styleSheet=document.createElement("style");styleSheet.id="saas-sdk-style",styleSheet.innerText="\n    body {\n      overflow: hidden;\n    }\n\n    #flam-sdk-loading-wrapper {\n      display: none;\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      min-height: 100vh;\n      min-width: 100vw;\n      overflow: hidden;\n      border: none;\n      background: rgba(0,0,0, 0.4);\n      justify-content: center;\n      align-items: center;\n      z-index: 1000;\n    }\n\n    #flam-sdk-iframe {\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n\n      min-height: 100vh;\n      min-width: 100vw;\n      border: none;\n      z-index: 1000;\n    }\n\n    #flam-sdk-loading {\n      width: 48px;\n      height: 48px;\n      border: 5px solid #FFF;\n      border-bottom-color: transparent;\n      border-radius: 50%;\n      display: inline-block;\n      box-sizing: border-box;\n      animation: sdkrotation 1s linear infinite;\n      }\n  \n    @keyframes sdkrotation {\n      0% {\n          transform: rotate(0deg);\n      }\n      100% {\n          transform: rotate(360deg);\n      }\n    }\n  ",document.head.appendChild(styleSheet);const body=document.querySelector("body"),wrapper=document.createElement("div");wrapper.id="flam-sdk-wrapper",wrapper.innerHTML='\n    <iframe id="flam-sdk-iframe" style="display: none" name="flam-sdk-iframe" src="https://dev.sdk.zingcam.tech" style="opacity: 0"></iframe>\n    <div id="flam-sdk-loading-wrapper">\n      <span id="flam-sdk-loading"></span>\n    </div>\n  ',body.appendChild(wrapper)})()}catch(err){warn(err.message)}}init.prototype.placeOrder=function(data){try{if(!data||"object"!=typeof data)throw new Error("Invalid paramerters passed");if(!data.productId||"string"!=typeof data.productId)throw new Error("PRODUCT ID is invalid or missing");if(!data.varientId||"string"!=typeof data.varientId)throw new Error("VARIENT ID is invalid or missing");if(!data.refId||"string"!=typeof data.refId)throw new Error("REF ID is invalid or missing");if(!data.photo||"object"!=typeof data.photo)throw new Error("photo options are invalid or missing");if(!data.video||"object"!=typeof data.video)throw new Error("video options are invalid or missing");window.handleSuccess=data.handleSuccess,window.handleFailure=data.handleFailure;document.getElementById("flam-sdk-loading-wrapper").style.display="flex",renderFrameOnReady(data)}catch(err){warn(err.message)}};var version={raw:"2.0.4-beta.0"},index={version:version,init:init};export{index as default,init,version};
//# sourceMappingURL=FlamSaasSDK.min.esm.js.map

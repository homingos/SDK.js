{"version":3,"file":"FlamSaasSDK.min.js","sources":["../src/helper/messageHandlers.js","../src/helper/assert.js","../src/helper/object-assign.js","../src/helper/object.js","../src/helper/window.js","../src/helper/iframe-handler.js","../src/core/index.js","../src/core/placeOrder.js","../src/version.js","../src/index.js"],"sourcesContent":["function handleListener(data) {\n  switch (data.type) {\n    case 'READY':\n      handleSend({\n        type: 'INITIAL_DATA',\n        message: localStorage.getItem('options')\n      });\n      break;\n    case 'CLOSE':\n      {\n        const iframe = document.getElementById('flam-sdk-iframe');\n        iframe.style.display = 'none';\n      }\n      break;\n    case 'SUCCESS':\n      window.successHandler(JSON.parse(data.message));\n      break;\n    case 'FAIL':\n      window.failHandler(data.message);\n      break;\n    default:\n      console.log(data);\n  }\n}\n\nconst handleSend = message => {\n  const iframe = document.getElementById('flam-sdk-iframe');\n  iframe.contentWindow.postMessage(message, 'http://localhost:3000/');\n};\n\nexport { handleListener, handleSend };\n","var toString = Object.prototype.toString;\n\nfunction attribute(o, attr, type, text) {\n  type = type === 'array' ? 'object' : type;\n  if (o && typeof o[attr] !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction variable(o, type, text) {\n  if (typeof o !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction value(o, values, text) {\n  if (values.indexOf(o) === -1) {\n    throw new Error(text);\n  }\n}\n\nfunction check(o, config, attributes) {\n  if (!config.optional || o) {\n    variable(o, config.type, config.message);\n  }\n  if (config.type === 'object' && attributes) {\n    var keys = Object.keys(attributes);\n\n    for (var index = 0; index < keys.length; index++) {\n      var a = keys[index];\n      if (!attributes[a].optional || o[a]) {\n        if (!attributes[a].condition || attributes[a].condition(o)) {\n          attribute(o, a, attributes[a].type, attributes[a].message);\n          if (attributes[a].values) {\n            value(o[a], attributes[a].values, attributes[a].value_message);\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * Wrap `Array.isArray` Polyfill for IE9\n * source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\n *\n * @param {Array} array\n * @private\n */\nfunction isArray(array) {\n  if (this.supportsIsArray()) {\n    return Array.isArray(array);\n  }\n\n  return toString.call(array) === '[object Array]';\n}\n\nfunction supportsIsArray() {\n  return Array.isArray != null;\n}\n\nexport default {\n  check: check,\n  attribute: attribute,\n  variable: variable,\n  value: value,\n  isArray: isArray,\n  supportsIsArray: supportsIsArray\n};\n","/* eslint-disable no-continue */\n\nfunction get() {\n  if (!Object.assign) {\n    return objectAssignPolyfill;\n  }\n\n  return Object.assign;\n}\n\nfunction objectAssignPolyfill(target) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (\n      var nextIndex = 0, len = keysArray.length;\n      nextIndex < len;\n      nextIndex++\n    ) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nexport default {\n  get: get,\n  objectAssignPolyfill: objectAssignPolyfill\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n\nimport assert from './assert';\nimport objectAssign from './object-assign';\n\nfunction pick(object, keys) {\n  return keys.reduce(function (prev, key) {\n    if (object[key]) {\n      prev[key] = object[key];\n    }\n    return prev;\n  }, {});\n}\n\nfunction getKeysNotIn(obj, allowedKeys) {\n  var notAllowed = [];\n  for (var key in obj) {\n    if (allowedKeys.indexOf(key) === -1) {\n      notAllowed.push(key);\n    }\n  }\n  return notAllowed;\n}\n\nfunction objectValues(obj) {\n  var values = [];\n  for (var key in obj) {\n    values.push(obj[key]);\n  }\n  return values;\n}\n\nfunction extend() {\n  var params = objectValues(arguments);\n  params.unshift({});\n  return objectAssign.get().apply(undefined, params);\n}\n\nfunction merge(object, keys) {\n  return {\n    base: keys ? pick(object, keys) : object,\n    with: function (object2, keys2) {\n      object2 = keys2 ? pick(object2, keys2) : object2;\n      return extend(this.base, object2);\n    }\n  };\n}\n\nfunction blacklist(object, blacklistedKeys) {\n  return Object.keys(object).reduce(function (p, key) {\n    if (blacklistedKeys.indexOf(key) === -1) {\n      p[key] = object[key];\n    }\n    return p;\n  }, {});\n}\n\nfunction camelToSnake(str) {\n  var newKey = '';\n  var index = 0;\n  var code;\n  var wasPrevNumber = true;\n  var wasPrevUppercase = true;\n\n  while (index < str.length) {\n    code = str.charCodeAt(index);\n    if (\n      (!wasPrevUppercase && code >= 65 && code <= 90) ||\n      (!wasPrevNumber && code >= 48 && code <= 57)\n    ) {\n      newKey += '_';\n      newKey += str[index].toLowerCase();\n    } else {\n      newKey += str[index].toLowerCase();\n    }\n    wasPrevNumber = code >= 48 && code <= 57;\n    wasPrevUppercase = code >= 65 && code <= 90;\n    index++;\n  }\n\n  return newKey;\n}\n\nfunction snakeToCamel(str) {\n  var parts = str.split('_');\n  return parts.reduce(function (p, c) {\n    return p + c.charAt(0).toUpperCase() + c.slice(1);\n  }, parts.shift());\n}\n\nfunction toSnakeCase(object, exceptions) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n  exceptions = exceptions || [];\n\n  return Object.keys(object).reduce(function (p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? camelToSnake(key) : key;\n    p[newKey] = toSnakeCase(object[key]);\n    return p;\n  }, {});\n}\n\nfunction toCamelCase(object, exceptions, options) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n\n  exceptions = exceptions || [];\n  options = options || {};\n  return Object.keys(object).reduce(function (p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? snakeToCamel(key) : key;\n\n    p[newKey] = toCamelCase(object[newKey] || object[key], [], options);\n\n    if (options.keepOriginal) {\n      p[key] = toCamelCase(object[key], [], options);\n    }\n    return p;\n  }, {});\n}\n\nfunction getLocationFromUrl(href) {\n  var match = href.match(\n    /^(https?:|file:|chrome-extension:)\\/\\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/\n  );\n  return (\n    match && {\n      href: href,\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    }\n  );\n}\n\nfunction getOriginFromUrl(url) {\n  if (!url) {\n    return undefined;\n  }\n  var parsed = getLocationFromUrl(url);\n  if (!parsed) {\n    return null;\n  }\n  var origin = parsed.protocol + '//' + parsed.hostname;\n  if (parsed.port) {\n    origin += ':' + parsed.port;\n  }\n  return origin;\n}\n\nfunction trim(options, key) {\n  var trimmed = extend(options);\n  if (options[key]) {\n    trimmed[key] = options[key].trim();\n  }\n  return trimmed;\n}\n\nfunction trimMultiple(options, keys) {\n  return keys.reduce(trim, options);\n}\n\nfunction trimUserDetails(options) {\n  return trimMultiple(options, ['username', 'email', 'phoneNumber']);\n}\n\n/**\n * Updates the value of a property on the given object, using a deep path selector.\n * @param {object} obj The object to set the property value on\n * @param {string|array} path The path to the property that should have its value updated. e.g. 'prop1.prop2.prop3' or ['prop1', 'prop2', 'prop3']\n * @param {any} value The value to set\n * @ignore\n */\nfunction updatePropertyOn(obj, path, value) {\n  if (typeof path === 'string') {\n    path = path.split('.');\n  }\n\n  var next = path[0];\n\n  if (obj.hasOwnProperty(next)) {\n    if (path.length === 1) {\n      obj[next] = value;\n    } else {\n      updatePropertyOn(obj[next], path.slice(1), value);\n    }\n  }\n}\n\nexport default {\n  toSnakeCase: toSnakeCase,\n  toCamelCase: toCamelCase,\n  blacklist: blacklist,\n  merge: merge,\n  pick: pick,\n  getKeysNotIn: getKeysNotIn,\n  extend: extend,\n  getOriginFromUrl: getOriginFromUrl,\n  getLocationFromUrl: getLocationFromUrl,\n  trimUserDetails: trimUserDetails,\n  updatePropertyOn: updatePropertyOn\n};\n","import objectHelper from './object';\n\nfunction redirect(url) {\n  getWindow().location = url;\n}\n\nfunction getDocument() {\n  return getWindow().document;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getOrigin() {\n  var location = getWindow().location;\n  var origin = location.origin;\n\n  if (!origin) {\n    origin = objectHelper.getOriginFromUrl(location.href);\n  }\n\n  return origin;\n}\n\nexport default {\n  redirect: redirect,\n  getDocument: getDocument,\n  getWindow: getWindow,\n  getOrigin: getOrigin\n};\n","import windowHelper from './window';\n\nfunction IframeHandler(options) {\n  this.url = options.url;\n}\n\nIframeHandler.prototype.init = function () {\n  var _window = windowHelper.getWindow();\n  const styleSheet = _window.document.createElement('style');\n  styleSheet.id = 'saas-sdk-style';\n  styleSheet.innerText = `\n    body {\n      overflow: hidden;\n    }\n\n    .flam-sdk-loading-wrapper {\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n\n      min-height: 100vh;\n      min-width: 100vw;\n      overflow: hidden;\n      border: none;\n      background: rgba(0,0,0, 0.4);\n\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      z-index: 1000;\n    }\n\n    #flam-sdk-iframe {\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n\n      min-height: 100vh;\n      min-width: 100vw;\n      border: none;\n      z-index: 1000;\n    }\n\n    .flam-sdk-loading {\n      position: relative;\n      width: 80px;\n      height: 80px;\n    }\n\n    .flam-sdk-loading div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: 64px;\n      height: 64px;\n      margin: 8px;\n      border: 3px solid #000;\n      border-radius: 50%;\n      animation: flam-sdk-loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #000 transparent transparent transparent;\n    }\n    .flam-sdk-loading div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    .flam-sdk-loading div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    .flam-sdk-loading div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n    @keyframes flam-sdk-loading {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  `;\n\n  _window.document.head.appendChild(styleSheet);\n  const body = _window.document.querySelector('body');\n  const wrapper = _window.document.createElement('div');\n  wrapper.id = 'flam-sdk-wrapper';\n  wrapper.innerHTML = `<iframe id=\"flam-sdk-iframe\" style=\"display: none\" name=\"flam-sdk-iframe\" src=\"${this.url}\" style=\"opacity: 0\"></iframe>`;\n  body.appendChild(wrapper);\n};\n\nexport default IframeHandler;\n","import { handleListener } from '../helper/messageHandlers';\nimport IframeHandler from '../helper/iframe-handler';\nimport assert from '../helper/assert';\n\nimport { placeOrder } from './placeOrder';\n\n/**\n * Initializes a SDK instance\n * @constructor\n * @param {Object} options\n * @param {String} options.key the API Key found on your Application settings page\n * @param {String} [options.environment] enviornment SANDBOX | PRODUCTION\n */\nfunction init(options) {\n  try {\n    assert.check(\n      options,\n      { type: 'object', message: 'init parameter is not valid.' },\n      {\n        key: { type: 'string', message: \"'key' is required string.\" },\n        environment: {\n          optional: true,\n          type: 'string',\n          message: \"'environment' must be string.\"\n        }\n      }\n    );\n  } catch (err) {\n    // assert method above throws error with given message which we further throw to client.\n    if (err && err.message) {\n      throw err.message;\n    }\n    throw 'Please try again';\n  }\n\n  options.environment =\n    options &&\n    typeof options.environment === 'string' &&\n    options.environment.toUpperCase() === 'PRODUCTION'\n      ? 'PRODUCTION'\n      : 'SANDBOX';\n\n  try {\n    localStorage.setItem('options', JSON.stringify(options));\n    window.addEventListener(\n      'message',\n      e => {\n        handleListener(e.data);\n      },\n      false\n    );\n    const handler = new IframeHandler({\n      url: 'http://localhost:3000'\n    });\n\n    handler.init();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ninit.prototype.placeOrder = placeOrder;\n\nexport default init;\n","import { handleSend } from '../helper/messageHandlers';\n\n/**\n * Makes a call to the `placeOrder` to launch a UI for placing the orders.\n *\n * @method placeOrder\n * @param {Object} data\n * @param {String} data.productId Product ID of the product (required]\n * @param {String} data.variantId Variant ID of the product (required)\n * @param {String} data.refId Random generated Ref ID, must be unique. (required)\n * @param {Object} [data.photo] \n * @param {string} [data.photo.changeable] If set to true, Client can re-upload the picture even if one passes the url.\n * @param {string} [data.photo.url] Photo URL sent by the Client.\n * @param {string} [data.photo.allowCrop] If set to true, Allows the Client to allow Cropping the video.\n * @param {string} [data.photo.maxSize] Max Size limit that a user can set for Uploading.\n * @param {Object} [data.video]\n * @param {string} [data.video.changeable] If set to true, Client can re-upload the picture even if one passes the url.\n * @param {string} [data.video.url] Video URL sent by the Client.\n * @param {string} [data.video.allowTrim] If set to true, Allows the Client to allow triming the video.\n * @param {string} [data.video.maxSize] Max Size limit that a user can set for Uploading.\n * @param {Object} [data.prefill]\n * @param {string} [data.prefill.name] SDK config for Name of the Client\n * @param {string} [data.prefill.email] SDK config for Email of the Client\n * @param {string} [data.prefill.contact] SDK config for Contact Number of the Client\n * @param {Object} [data.theme]\n * @param {string} [data.theme.color] hex color for themeing the UI\n * @param {callback} [handleSuccess]\n * @param {callback} [handleFailure]\n * @memberof init.prototype\n */\n\nfunction placeOrder(data) {\n  try {\n    if ((!data.productId, !data.refId)) {\n      throw 'ProductID and RefId are required';\n    }\n    const iframe = document.getElementById('flam-sdk-iframe');\n    iframe.style.display = 'block';\n    handleSend({ type: 'CLIENT_DATA', message: JSON.stringify(data) });\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport { placeOrder };","module.exports = { raw: '1.0.10' };\n","import init from './core/index';\nimport version from './version';\n\nexport { version, init };\n\nexport default { version: version, init: init };\n"],"names":["handleSend","message","document","getElementById","contentWindow","postMessage","toString","Object","prototype","attribute","o","attr","type","text","Error","variable","value","values","indexOf","check","config","attributes","optional","keys","index","length","a","condition","value_message","isArray","array","this","supportsIsArray","Array","call","objectAssignPolyfill","target","TypeError","to","i","arguments","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","get","assign","pick","object","reduce","prev","key","objectValues","obj","push","extend","params","unshift","objectAssign","apply","getLocationFromUrl","href","match","protocol","host","hostname","port","pathname","search","hash","trim","options","trimmed","toSnakeCase","exceptions","assert","p","str","code","newKey","wasPrevNumber","wasPrevUppercase","charCodeAt","toLowerCase","camelToSnake","toCamelCase","parts","split","c","charAt","toUpperCase","slice","shift","keepOriginal","blacklist","blacklistedKeys","merge","base","with","object2","keys2","getKeysNotIn","allowedKeys","notAllowed","getOriginFromUrl","url","parsed","origin","trimUserDetails","trimMultiple","updatePropertyOn","path","next","hasOwnProperty","getWindow","window","redirect","location","getDocument","getOrigin","objectHelper","IframeHandler","init","environment","err","localStorage","setItem","JSON","stringify","addEventListener","e","data","getItem","style","display","successHandler","parse","failHandler","console","log","handleListener","_window","windowHelper","styleSheet","createElement","id","innerText","head","appendChild","body","querySelector","wrapper","innerHTML","placeOrder","productId","refId","raw","version"],"mappings":"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"}